<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="orbea.css" />
    <link rel="shortcut icon" href="orbea-logo.svg" type="image/x-icon">
    <title>Orbea - Diseñada para Rodar</title>
  </head>
  <body>
    <div class="loading-screen">
      <div class="loader"></div>
      <div class="loading-text">ORBEA: Diseñada para Rodar</div>
    </div>

    <header>
      <nav>
        <div class="logo">ORBEA</div>
        <ul class="nav-links">
          <li><a href="index.html">Pagina Principal</a></li>
          <li><a href="#innovacion">Innovación</a></li>
          <li><a href="#bicicletas">Nuestras Bicicletas</a></li>
          <li><a href="#historias">Historias Orbea</a></li>
          <li><a href="#galeria">Galería</a></li>
          <li>
            <a href="https://www.orbea.com/es-es/" target="_blank"
              >Web Oficial</a
            >
          </li>
        </ul>
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </nav>
    </header>

    <main>
      <section id="inicio" class="hero">
        <video
          autoplay
          muted
          loop
          playsinline
          poster="https://www.orbea.com/img/video_placeholder.jpg"
        >
          <source
            src="https://www.orbea.com/img/hero_video_orbea_desktop.mp4"
            type="video/mp4"
          />
          Tu navegador no soporta el elemento de video.
        </video>
        <div class="hero-content">
          <h1>ORBEA</h1>
          <p>Diseñada para Rodar: Tu Pasión, Nuestra Ingeniería.</p>
          <a href="#bicicletas" class="cta-button">Explora la Colección</a>
        </div>
      </section>

      <section id="innovacion" class="innovation">
        <h2 class="section-title animated-element">
          Innovación que Impulsa el Rendimiento
        </h2>
        <div class="innovation-grid">
          <div class="innovation-text animated-element">
            <h3>Más Allá de la Bicicleta, la Experiencia.</h3>
            <p>
              En Orbea, la innovación no es solo una característica; es el
              núcleo de todo lo que hacemos. Desde nuestro centro de diseño en
              Mallabia, cada bicicleta es el resultado de un meticuloso proceso
              de investigación, desarrollo y colaboración con atletas de élite.
            </p>
            <p>
              Aplicamos tecnologías de vanguardia y un profundo conocimiento del
              ciclismo para crear máquinas que no solo rinden al máximo, sino
              que también ofrecen una experiencia de rodaje inigualable. Nuestro
              compromiso es contigo, el ciclista, asegurando que cada pedaleo
              sea una extensión de tu potencial.
            </p>
            <div class="innovation-features">
              <div class="feature-item animated-element">
                <h4>Diseño Ergonómico</h4>
                <p>
                  Bicicletas adaptadas a tu morfología y estilo, optimizando
                  confort y eficiencia.
                </p>
              </div>
              <div class="feature-item animated-element">
                <h4>Carbono OMX</h4>
                <p>
                  Nuestra avanzada fibra de carbono para ligereza extrema y
                  rigidez superior.
                </p>
              </div>
              <div class="feature-item animated-element">
                <h4>MyO Customization</h4>
                <p>
                  Personaliza tu Orbea con colores y componentes únicos, como
                  ninguna otra.
                </p>
              </div>
              <div class="feature-item animated-element">
                <h4>Conectividad Inteligente</h4>
                <p>
                  Sistemas integrados para monitorear tu rendimiento y mejorar
                  tu experiencia.
                </p>
              </div>
            </div>
          </div>
          <div class="innovation-image animated-element">
            <img
              src="Inovacion.jpg"
              alt="Innovación en Diseño de Orbea"
            />
          </div>
        </div>
      </section>

      <section id="bicicletas" class="featured-bikes">
        <h2 class="section-title animated-element">
          Nuestras Bicicletas: Para Cada Aventura
        </h2>

        <div class="bikes-grid">
          <div class="bike-card animated-element">
            <img
              src="ORCA_AERO_M10iLTD.jpg"
              alt="Orbea Orca"
            />
            <div class="bike-content">
              <h3>ORCA AERO M10iLTD</h3>
              <p>
                Ligereza, rigidez y aerodinámica para la competición de
                carretera. Domina las subidas y los sprints con la Orca.
              </p>
              <a
                href="https://www.orbea.com/mx-es/bicicletas/carretera/orca-aero/cat/orca-aero-m10iltd/"
                target="_blank"
                class="bike-cta"
                >Descubre la ORCA AERO M10iLTD</a
              >
            </div>
          </div>

          <div class="bike-card animated-element">
            <img
              src="RISE_LT_MTEAM.jpg"
              alt="Orbea Rise"
            />
            <div class="bike-content">
              <h3>RISE LT M-TEAM 20mph</h3>
              <p>
                La e-MTB ultraligera que redefine el ciclismo de montaña. Siente
                el trail como nunca con la asistencia justa.
              </p>
              <a
                href="https://www.orbea.com/mx-es/ebikes/montana/rise/cat/rise-lt-m-team-20mph-630/"
                target="_blank"
                class="bike-cta"
                >Descubre la RISE LT M-TEAM 20mph</a
              >
            </div>
          </div>

          <div class="bike-card animated-element">
            <img
              src="TERRA_20TEAM.jpg"
              alt="Orbea Terra"
            />
            <div class="bike-content">
              <h3>TERRA M20TEAM</h3>
              <p>
                Tu compañera perfecta para el Gravel y la aventura. Explora
                nuevos caminos con confort y rendimiento.
              </p>
              <a
                href="https://www.orbea.com/mx-es/bicicletas/carretera/terra/cat/terra-m20team/"
                target="_blank"
                class="bike-cta"
                >Descubre la TERRA M20TEAM</a
              >
            </div>
          </div>

          <div class="bike-card animated-element">
            <img
              src="ALMA_H20.jpg"
              alt="Orbea Alma"
            />
            <div class="bike-content">
              <h3>ALMA H20</h3>
              <p>
                La hardtail de XC diseñada para la velocidad y la eficiencia.
                Para los que buscan la cima del podio.
              </p>
              <a
                href="https://www.orbea.com/mx-es/bicicletas/montana/alma/cat/alma-h20/"
                target="_blank"
                class="bike-cta"
                >Descubre la Alma H20</a
              >
            </div>
          </div>
        </div>
      </section>

      <section id="historias" class="stories animated-element">
        <h2 class="section-title">
          Historias que Inspiran: La Comunidad Orbea
        </h2>
        <div class="testimonial-carousel">
          <div class="testimonial-item">
            <p>
              "Mi Orbea Orca me ha llevado a conquistar puertos que antes solo
              soñaba. La ligereza y la respuesta en cada pedaleo son
              inigualables. ¡Absolutamente enamorado!"
            </p>
            <div class="testimonial-author">
              — Javier R., Ciclista de Carretera Aficionado
            </div>
          </div>
          <div class="testimonial-item">
            <p>
              "La Rise ha transformado mi forma de ver el MTB. Me permite
              explorar senderos más largos y desafiantes, manteniendo la
              sensación natural de una bicicleta de montaña. ¡Pura diversión!"
            </p>
            <div class="testimonial-author">
              — Laura P., Aventurera de Montaña
            </div>
          </div>
          <div class="testimonial-item">
            <p>
              "La Terra es la bicicleta más versátil que he tenido. Perfecta
              para mis desplazamientos diarios y para esas escapadas de fin de
              semana por caminos sin asfaltar. Orbea lo ha clavado."
            </p>
            <div class="testimonial-author">
              — Carlos M., Entusiasta del Gravel
            </div>
          </div>
        </div>
        <div class="carousel-nav">
          <div class="carousel-dot active" data-index="0"></div>
          <div class="carousel-dot" data-index="1"></div>
          <div class="carousel-dot" data-index="2"></div>
        </div>
      </section>

      <section id="galeria" class="gallery animated-element">
        <h2 class="section-title">Detalles que Marcan la Diferencia</h2>
        <div class="gallery-grid">
          <div class="gallery-item animated-element">
            <img
              src="REDONDEADOS.jpg"
              alt="Detalle Horquilla"
            />
            <div class="gallery-overlay">
              <h4>TORNILLOS REDONDEADOS/SEGUROS</h4>
            </div>
          </div>
          <div class="gallery-item animated-element">
            <img
              src="Aliminio.jpg"
              alt="Detalle Transmisión"
            />
            <div class="gallery-overlay"><h4>BIELAS Y PLATO DE ALUMINIO</h4></div>
          </div>
          </div>
        </div>
      </section>

      <section class="cta-final animated-element">
        <h2>Listo para Empezar tu Próxima Aventura con Orbea?</h2>
        <a
          href="https://www.orbea.com/es-es/"
          target="_blank"
          class="btn-final"
        >
          Descubre tu Orbea Perfecta
        </a>
      </section>
    </main>

    <footer>
      <p>© 2025 Gabriel Ortiz. Todos los derechos reservados.</p>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Loading Screen fade out
        setTimeout(() => {
          document.body.classList.add("loaded");
        }, 2800); // Increased time for video to load slightly

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              const headerOffset =
                document.querySelector("header").offsetHeight;
              const elementPosition =
                targetElement.getBoundingClientRect().top + window.pageYOffset;
              const offsetPosition = elementPosition - headerOffset;

              window.scrollTo({
                top: offsetPosition,
                behavior: "smooth",
              });

              // Close mobile menu if open
              const navLinks = document.querySelector(".nav-links");
              const hamburger = document.querySelector(".hamburger");
              if (navLinks.classList.contains("active")) {
                navLinks.classList.remove("active");
                hamburger.classList.remove("active");
              }
            }
          });
        });

        // Mobile menu toggle
        const hamburger = document.querySelector(".hamburger");
        const navLinks = document.querySelector(".nav-links");

        hamburger.addEventListener("click", () => {
          navLinks.classList.toggle("active");
          hamburger.classList.toggle("active");
        });

        // Intersection Observer for scroll animations with staggered effects
        const observerOptions = {
          root: null,
          threshold: 0.2, // Element visible 20% to activate
          rootMargin: "0px 0px -50px 0px", // Adjust activation point
        };

        const animatedObserver = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
                observer.unobserve(entry.target);
              }
            });
          },
          observerOptions
        );

        document
          .querySelectorAll(".animated-element")
          .forEach((el) => animatedObserver.observe(el));

        // Staggered animation for grid items within sections
        const applyStaggeredAnimation = (
          parentSelector,
          childSelector,
          delayIncrement
        ) => {
          const parent = document.querySelector(parentSelector);
          if (parent) {
            const observerStaggered = new IntersectionObserver(
              (entries, observer) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const children =
                      entry.target.querySelectorAll(childSelector);
                    children.forEach((card, index) => {
                      card.style.transitionDelay = `${index * delayIncrement}s`;
                      card.classList.add("is-visible"); // Add visibility class here
                    });
                    observer.unobserve(entry.target);
                  }
                });
              },
              { threshold: 0.1, rootMargin: "0px 0px -50px 0px" }
            );
            observerStaggered.observe(parent);
          }
        };

        applyStaggeredAnimation(".innovation-features", ".feature-item", 0.1);
        applyStaggeredAnimation(".bikes-grid", ".bike-card", 0.15);
        applyStaggeredAnimation(".gallery-grid", ".gallery-item", 0.1);

        // Testimonial Carousel Logic
        const carousel = document.querySelector(".testimonial-carousel");
        const dotsContainer = document.querySelector(".carousel-nav");
        const testimonialItems = document.querySelectorAll(".testimonial-item");
        const totalItems = testimonialItems.length;
        let currentIndex = 0;

        const updateCarousel = () => {
          testimonialItems.forEach((item, i) => {
            item.classList.remove("active");
            dotsContainer.children[i].classList.remove("active");
          });

          testimonialItems[currentIndex].classList.add("active");
          dotsContainer.children[currentIndex].classList.add("active");

          // Adjust scroll position to center the active item roughly
          const itemWidth =
            testimonialItems[currentIndex].offsetWidth +
            parseFloat(
              window.getComputedStyle(testimonialItems[currentIndex]).marginLeft
            ) *
              2;
          carousel.scrollLeft =
            currentIndex * itemWidth - carousel.offsetWidth / 2 + itemWidth / 2;
        };

        dotsContainer.addEventListener("click", (e) => {
          if (e.target.classList.contains("carousel-dot")) {
            currentIndex = parseInt(e.target.dataset.index);
            updateCarousel();
          }
        });

        // Initial setup
        if (totalItems > 0) {
          updateCarousel();
        }

        // Optional: Auto-slide carousel
        let carouselInterval;
        const startCarouselAutoSlide = () => {
          carouselInterval = setInterval(() => {
            currentIndex = (currentIndex + 1) % totalItems;
            updateCarousel();
          }, 7000); // Change slide every 7 seconds
        };

        const stopCarouselAutoSlide = () => {
          clearInterval(carouselInterval);
        };

        startCarouselAutoSlide(); // Start auto-slide on load

        // Pause auto-slide on hover
        carousel.addEventListener("mouseenter", stopCarouselAutoSlide);
        carousel.addEventListener("mouseleave", startCarouselAutoSlide);
        dotsContainer.addEventListener("mouseenter", stopCarouselAutoSlide);
        dotsContainer.addEventListener("mouseleave", startCarouselAutoSlide);

        // Dynamic header background on scroll
        const header = document.querySelector("header");
        window.addEventListener("scroll", () => {
          if (window.scrollY > 100) {
            header.style.backgroundColor = "rgba(10, 25, 47, 0.95)";
            header.style.boxShadow = "0 10px 35px rgba(0, 0, 0, 0.7)";
          } else {
            header.style.backgroundColor = "rgba(10, 25, 47, 0.8)";
            header.style.boxShadow = "0 8px 30px rgba(0, 0, 0, 0.6)";
          }
        });
      });
    </script>
  </body>
</html>
